{"version":3,"file":"jquery-steps.js","sources":["../src/Defaults.js","../src/Steps.js","../src/Plugin.js"],"sourcesContent":["export default {\n  startAt: 0,\n  showBackButton: true,\n  showFooterButtons: true,\n  onInit: $.noop,\n  onDestroy: $.noop,\n  onFinish: $.noop,\n  onChange() { return true; },\n  stepSelector: '.step-steps > li',\n  contentSelector: '.step-content > .step-tab-panel',\n  footerSelector: '.step-footer',\n  activeClass: 'active',\n};\n","import $ from 'jquery';\nimport DEFAULTS from './Defaults';\n\nclass Steps {\n  constructor(element, options) {\n    // Extend defaults with the init options.\n    this.options = $.extend({}, DEFAULTS, options);\n\n    // Store main DOM element.\n    this.el = $(element);\n\n    // Initialize\n    this.init();\n  }\n\n  init() {\n    this.hook('onInit');\n    const self = this;\n\n    // step click event\n    $(this.el).on('click', this.options.stepSelector, function (e) {\n      e.preventDefault();\n      const nextStep = $(this).closest('li').index();\n      const stepIndex = self.getStepIndex();\n      self.setActiveStep(stepIndex, nextStep);\n    });\n\n    // button click event\n    $(this.el).on('click', $(this.options.footerSelector).add('> button'), function (e) {\n      e.preventDefault();\n      const statusAction = $(this).data('direction');\n      self.setAction(statusAction);\n    });\n\n    // set default step\n    this.setShowStep(this.options.startAt, '', 'active');\n    this.setFooterBtns();\n\n    // show footer buttons\n    if (!this.options.showFooterButtons) {\n      this.hideFooterBtns();\n      this.setFooterBtns = $.noop;\n    }\n  }\n\n  hook(hookName) {\n    if (this.options[hookName] !== undefined) {\n      this.options[hookName].call(this.el);\n    }\n  }\n\n  destroy() {\n    this.el.empty();\n    this.el.removeData('plugin_Steps');\n    this.hook('onDestroy');\n  }\n\n  getStepIndex() {\n    const stepIndex = this.el.find(this.options.stepSelector)\n                             .filter(this.options.activeClass)\n                             .index();\n    return stepIndex || 0;\n  }\n\n  getMaxStepCount() {\n    return this.el.find(this.options.stepSelector).length - 1;\n  }\n\n  getStepDirection(stepIndex, newIndex) {\n    let direction = 'none';\n    if (newIndex < stepIndex) {\n      direction = 'backward';\n    } else if (newIndex > stepIndex) {\n      direction = 'forward';\n    }\n    return direction;\n  }\n\n  setShowStep(idx, removeClass, addClass = '') {\n    this.el.find(this.options.contentSelector).removeClass(this.options.activeClass);\n    const $prevStep = this.el.find(this.options.stepSelector).eq(idx);\n    $prevStep.removeClass(removeClass).addClass(addClass);\n    const targetStep = $prevStep.find('a').attr('href');\n    $(targetStep).addClass(this.options.activeClass);\n  }\n\n  setActiveStep(currentIndex, newIndex) {\n    if (newIndex !== currentIndex) {\n      if (newIndex > currentIndex) {\n        for (let i = 0; i <= newIndex; i += 1) {\n          const lastTab = i === newIndex;\n          if (lastTab) {\n            this.setShowStep(i, 'done', 'active');\n          } else {\n            this.setShowStep(i, 'active error', 'done');\n          }\n          const stepDirectionF = this.getStepDirection(i, newIndex);\n          const validStep = this.options.onChange(i, newIndex, stepDirectionF);\n          if (!validStep) {\n            this.setShowStep(i, 'done', 'error active');\n            this.setFooterBtns();\n            break;\n          }\n        }\n      }\n\n      if (currentIndex > newIndex) {\n        for (let i = currentIndex; i >= newIndex; i -= 1) {\n          const stepDirectionB = this.getStepDirection(i, newIndex);\n          this.options.onChange(i, newIndex, stepDirectionB);\n          this.setShowStep(i, 'done active error');\n          if (i === newIndex) {\n            this.setShowStep(i, 'done error', 'active');\n          }\n        }\n      }\n\n      this.setFooterBtns();\n    }\n  }\n\n  setFooterBtns() {\n    const stepIndex = this.getStepIndex();\n    const maxIndex = this.getMaxStepCount();\n    const $footer = this.el.find(this.options.footerSelector);\n\n    if (stepIndex === 0) {\n      $footer.find('button[data-direction=\"prev\"]').hide();\n    }\n\n    if (stepIndex > 0 && this.options.showBackButton) {\n      $footer.find('button[data-direction=\"prev\"]').show();\n    }\n\n    if (maxIndex === stepIndex) {\n      $footer.find('button[data-direction=\"prev\"]').show();\n      $footer.find('button[data-direction=\"next\"]').hide();\n      $footer.find('button[data-direction=\"finish\"]').show();\n    } else {\n      $footer.find('button[data-direction=\"next\"]').show();\n      $footer.find('button[data-direction=\"finish\"]').hide();\n    }\n\n    if (!this.options.showBackButton) {\n      $footer.find('button[data-direction=\"prev\"]').hide();\n    }\n  }\n\n  setAction(action) {\n    const stepIndex = this.getStepIndex();\n    let nextStep = stepIndex;\n    if (action === 'prev') { nextStep -= 1; }\n    if (action === 'next') { nextStep += 1; }\n    if (action === 'finish') {\n      const validStep = this.options.onChange(stepIndex, nextStep, 'forward');\n      if (validStep) {\n        this.hook('onFinish');\n      } else {\n        this.setShowStep(stepIndex, '', 'error');\n      }\n    }\n    if (action !== 'finish') { this.setActiveStep(stepIndex, nextStep); }\n  }\n\n  hideFooterBtns() {\n    this.el.find(this.options.footerSelector).hide();\n  }\n\n  static setDefaults(options) {\n    $.extend(DEFAULTS, $.isPlainObject(options) && options);\n  }\n\n}\n\nexport default Steps;\n","import $ from 'jquery';\nimport Steps from './Steps';\n\nconst other = $.fn.steps;\n\n$.fn.steps = function (options) {\n  return this.each(function () {\n    if (!$.data(this, 'plugin_Steps')) {\n      $.data(this, 'plugin_Steps', new Steps(this, options));\n    }\n  });\n};\n\n$.fn.steps.version = '1.0.0';\n$.fn.steps.setDefaults = Steps.setDefaults;\n\n// No conflict\n$.fn.steps.noConflict = function () {\n  $.fn.steps = other;\n  return this;\n};\n"],"names":["$","noop","Steps","element","options","extend","DEFAULTS","el","init","hook","self","on","stepSelector","e","preventDefault","nextStep","closest","index","stepIndex","getStepIndex","setActiveStep","footerSelector","add","statusAction","data","setAction","setShowStep","startAt","setFooterBtns","showFooterButtons","hideFooterBtns","hookName","undefined","call","empty","removeData","find","filter","activeClass","length","newIndex","direction","idx","removeClass","addClass","contentSelector","$prevStep","eq","targetStep","attr","currentIndex","i","lastTab","stepDirectionF","getStepDirection","validStep","onChange","stepDirectionB","maxIndex","getMaxStepCount","$footer","hide","showBackButton","show","action","isPlainObject","other","fn","steps","each","version","setDefaults","noConflict"],"mappings":"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"}