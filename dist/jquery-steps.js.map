{"version":3,"file":"jquery-steps.js","sources":["../src/Defaults.js","../src/Steps.js","../src/Plugin.js"],"sourcesContent":["export default {\n  startAt: 0,\n  showBackButton: true,\n  showFooterButtons: true,\n  onInit: $.noop,\n  onDestroy: $.noop,\n  onFinish: $.noop,\n  onChange() { return true; },\n  stepSelector: '.step-steps > li',\n  contentSelector: '.step-content > .step-tab-panel',\n  footerSelector: '.step-footer',\n  buttonSelector: 'button',\n  activeClass: 'active',\n};\n","import $ from 'jquery';\nimport DEFAULTS from './Defaults';\n\nclass Steps {\n  constructor(element, options) {\n    // Extend defaults with the init options.\n    this.options = $.extend({}, DEFAULTS, options);\n\n    // Store main DOM element.\n    this.el = $(element);\n\n    // Initialize\n    this.init();\n  }\n\n  init() {\n    this.hook('onInit');\n    const self = this;\n\n    // step click event\n    $(this.el).find(this.options.stepSelector).on('click', function (e) {\n      e.preventDefault();\n      const nextStep = $(this).closest('li').index();\n      const stepIndex = self.getStepIndex();\n      self.setActiveStep(stepIndex, nextStep);\n    });\n\n    // button click event\n    $(this.el).find(`${this.options.footerSelector} ${this.options.buttonSelector}`).on('click', function (e) {\n      e.preventDefault();\n      const statusAction = $(this).data('direction');\n      self.setAction(statusAction);\n    });\n\n    // set default step\n    this.setShowStep(this.options.startAt, '', this.options.activeClass);\n    this.setFooterBtns();\n\n    // show footer buttons\n    if (!this.options.showFooterButtons) {\n      this.hideFooterBtns();\n      this.setFooterBtns = $.noop;\n    }\n  }\n\n  hook(hookName) {\n    if (this.options[hookName] !== undefined) {\n      this.options[hookName].call(this.el);\n    }\n  }\n\n  destroy() {\n    this.el.empty();\n    this.el.removeData('plugin_Steps');\n    this.hook('onDestroy');\n  }\n\n  getStepIndex() {\n    const stepIndex = this.el.find(this.options.stepSelector)\n                             .filter(`.${this.options.activeClass}`)\n                             .index();\n    return stepIndex || 0;\n  }\n\n  getMaxStepCount() {\n    return this.el.find(this.options.stepSelector).length - 1;\n  }\n\n  getStepDirection(stepIndex, newIndex) {\n    let direction = 'none';\n    if (newIndex < stepIndex) {\n      direction = 'backward';\n    } else if (newIndex > stepIndex) {\n      direction = 'forward';\n    }\n    return direction;\n  }\n\n  setShowStep(idx, removeClass, addClass = '') {\n    this.el.find(this.options.contentSelector).removeClass(this.options.activeClass);\n    const $prevStep = this.el.find(this.options.stepSelector).eq(idx);\n    $prevStep.removeClass(removeClass).addClass(addClass);\n    const targetStep = $prevStep.find('a').attr('href');\n    $(targetStep).addClass(this.options.activeClass);\n  }\n\n  setActiveStep(currentIndex, newIndex) {\n    if (newIndex !== currentIndex) {\n      if (newIndex > currentIndex) {\n        for (let i = 0; i <= newIndex; i += 1) {\n          const lastTab = i === newIndex;\n          if (lastTab) {\n            this.setShowStep(i, 'done', this.options.activeClass);\n          } else {\n            this.setShowStep(i, `${this.options.activeClass} error`, 'done');\n          }\n          const stepDirectionF = this.getStepDirection(i, newIndex);\n          const validStep = this.options.onChange(i, newIndex, stepDirectionF);\n          if (!validStep) {\n            this.setShowStep(i, 'done', `${this.options.activeClass} error`);\n            this.setFooterBtns();\n            break;\n          }\n        }\n      }\n\n      if (currentIndex > newIndex) {\n        for (let i = currentIndex; i >= newIndex; i -= 1) {\n          const stepDirectionB = this.getStepDirection(i, newIndex);\n          this.options.onChange(i, newIndex, stepDirectionB);\n          this.setShowStep(i, `done ${this.options.activeClass} error`);\n          if (i === newIndex) {\n            this.setShowStep(i, 'done error', this.options.activeClass);\n          }\n        }\n      }\n\n      this.setFooterBtns();\n    }\n  }\n\n  setFooterBtns() {\n    const stepIndex = this.getStepIndex();\n    const maxIndex = this.getMaxStepCount();\n    const $footer = this.el.find(this.options.footerSelector);\n\n    if (stepIndex === 0) {\n      $footer.find('button[data-direction=\"prev\"]').hide();\n    }\n\n    if (stepIndex > 0 && this.options.showBackButton) {\n      $footer.find('button[data-direction=\"prev\"]').show();\n    }\n\n    if (maxIndex === stepIndex) {\n      $footer.find('button[data-direction=\"prev\"]').show();\n      $footer.find('button[data-direction=\"next\"]').hide();\n      $footer.find('button[data-direction=\"finish\"]').show();\n    } else {\n      $footer.find('button[data-direction=\"next\"]').show();\n      $footer.find('button[data-direction=\"finish\"]').hide();\n    }\n\n    if (!this.options.showBackButton) {\n      $footer.find('button[data-direction=\"prev\"]').hide();\n    }\n  }\n\n  setAction(action) {\n    const stepIndex = this.getStepIndex();\n    let nextStep = stepIndex;\n    if (action === 'prev') { nextStep -= 1; }\n    if (action === 'next') { nextStep += 1; }\n    if (action === 'finish') {\n      const validStep = this.options.onChange(stepIndex, nextStep, 'forward');\n      if (validStep) {\n        this.hook('onFinish');\n      } else {\n        this.setShowStep(stepIndex, '', 'error');\n      }\n    }\n    if (action !== 'finish') { this.setActiveStep(stepIndex, nextStep); }\n  }\n\n  hideFooterBtns() {\n    this.el.find(this.options.footerSelector).hide();\n  }\n\n  static setDefaults(options) {\n    $.extend(DEFAULTS, $.isPlainObject(options) && options);\n  }\n\n}\n\nexport default Steps;\n","import $ from 'jquery';\nimport Steps from './Steps';\n\nconst other = $.fn.steps;\n\n$.fn.steps = function (options) {\n  return this.each(function () {\n    if (!$.data(this, 'plugin_Steps')) {\n      $.data(this, 'plugin_Steps', new Steps(this, options));\n    }\n  });\n};\n\n$.fn.steps.version = '1.0.0';\n$.fn.steps.setDefaults = Steps.setDefaults;\n\n// No conflict\n$.fn.steps.noConflict = function () {\n  $.fn.steps = other;\n  return this;\n};\n"],"names":["$","noop","Steps","element","options","extend","DEFAULTS","el","init","hook","self","find","stepSelector","on","e","preventDefault","nextStep","closest","index","stepIndex","getStepIndex","setActiveStep","footerSelector","buttonSelector","statusAction","data","setAction","setShowStep","startAt","activeClass","setFooterBtns","showFooterButtons","hideFooterBtns","hookName","undefined","call","empty","removeData","filter","length","newIndex","direction","idx","removeClass","addClass","contentSelector","$prevStep","eq","targetStep","attr","currentIndex","i","lastTab","stepDirectionF","getStepDirection","validStep","onChange","stepDirectionB","maxIndex","getMaxStepCount","$footer","hide","showBackButton","show","action","isPlainObject","other","fn","steps","each","version","setDefaults","noConflict"],"mappings":"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"}